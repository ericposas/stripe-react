[{"C:\\Users\\EP\\Documents\\stripe-react\\src\\index.js":"1","C:\\Users\\EP\\Documents\\stripe-react\\src\\App.js":"2","C:\\Users\\EP\\Documents\\stripe-react\\src\\reportWebVitals.js":"3","C:\\Users\\EP\\Documents\\stripe-react\\src\\itemsList.js":"4","C:\\Users\\EP\\Documents\\stripe-react\\src\\productsList.js":"5","C:\\Users\\EP\\Documents\\stripe-react\\src\\Success.js":"6","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\StyledButton.js":"7","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\ProductBox.js":"8","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\Checkout.js":"9","C:\\Users\\EP\\Documents\\stripe-react\\src\\hooks\\useFetchedUserData.js":"10","C:\\Users\\EP\\Documents\\stripe-react\\src\\utils\\utils.js":"11","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\UpdateUserDataForm.js":"12","C:\\Users\\EP\\Documents\\stripe-react\\src\\hooks\\useAuthToken.js":"13","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\DrawerComponent.js":"14","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\ActionModal.js":"15","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\AppHeader.js":"16","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\ProfileDataPage.js":"17","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\BugerButton.js":"18","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\LogoutTimer.js":"19","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\CreditCardEntry.js":"20","C:\\Users\\EP\\Documents\\stripe-react\\src\\hooks\\useCreateStripeCustomer.js":"21","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\StripeCardEntryExample.js":"22"},{"size":735,"mtime":1611682596830,"results":"23","hashOfConfig":"24"},{"size":3184,"mtime":1611863323550,"results":"25","hashOfConfig":"24"},{"size":362,"mtime":499162500000,"results":"26","hashOfConfig":"24"},{"size":2537,"mtime":1611467539130,"results":"27","hashOfConfig":"24"},{"size":57,"mtime":1611472459384,"results":"28","hashOfConfig":"24"},{"size":4480,"mtime":1611855402264,"results":"29","hashOfConfig":"24"},{"size":448,"mtime":1611614877316,"results":"30","hashOfConfig":"24"},{"size":1677,"mtime":1611626131223,"results":"31","hashOfConfig":"24"},{"size":4074,"mtime":1611854615480,"results":"32","hashOfConfig":"24"},{"size":1206,"mtime":1611855353713,"results":"33","hashOfConfig":"24"},{"size":335,"mtime":1611780186530,"results":"34","hashOfConfig":"24"},{"size":9135,"mtime":1611855368870,"results":"35","hashOfConfig":"24"},{"size":1352,"mtime":1611775909829,"results":"36","hashOfConfig":"24"},{"size":2735,"mtime":1611803794968,"results":"37","hashOfConfig":"24"},{"size":1983,"mtime":1611820426087,"results":"38","hashOfConfig":"24"},{"size":1343,"mtime":1611804509654,"results":"39","hashOfConfig":"24"},{"size":1924,"mtime":1611851852201,"results":"40","hashOfConfig":"24"},{"size":294,"mtime":1611807335603,"results":"41","hashOfConfig":"24"},{"size":2156,"mtime":1611854844319,"results":"42","hashOfConfig":"24"},{"size":2424,"mtime":1611860900891,"results":"43","hashOfConfig":"24"},{"size":2175,"mtime":1611855347706,"results":"44","hashOfConfig":"24"},{"size":10860,"mtime":1611864321593,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"1d30jjv",{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"48"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"57"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"48"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"48"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"48"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"48"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"48"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"48"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"48"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"48"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\EP\\Documents\\stripe-react\\src\\index.js",[],["104","105"],"C:\\Users\\EP\\Documents\\stripe-react\\src\\App.js",["106"],"import React from 'react'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from 'react-router-dom'\nimport './App.css'\nimport SuccessPage from './Success'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport Checkout from './components/Checkout'\nimport UpdateUserDataForm from './components/UpdateUserDataForm'\nimport { DarkenDiv, DrawerLeftPanel } from './components/DrawerComponent'\nimport { ActionModal } from './components/ActionModal'\nimport AppHeader from './components/AppHeader'\nimport ProfileDataPage from './components/ProfileDataPage'\nimport BurgerButton from './components/BugerButton'\nimport CreditCardEntry from './components/CreditCardEntry'\nimport LogoutTimer from './components/LogoutTimer'\nimport { Elements } from '@stripe/react-stripe-js'\nimport { loadStripe } from '@stripe/stripe-js'\nimport StripeCardEntryExample from './components/StripeCardEntryExample'\n\nconst stripePromise = loadStripe(process.env.REACT_APP_STRIPE_TEST_PUB_KEY)\n\nfunction App() {\n  \n  const { user } = useAuth0()\n  const [drawerOpen, setDrawerOpen] = React.useState(false)\n\n  return (\n    <>\n      <div className='App'>\n\n        <LogoutTimer minutesOfInactivity={15} />\n\n        <Router>\n\n          {\n            user && <BurgerButton doAction={() => setDrawerOpen(true)} />\n          }\n\n          <Link to='/' style={{ textDecoration: 'none' }}>\n            <AppHeader />\n          </Link>\n\n          <DarkenDiv drawerOpen={drawerOpen} setDrawerOpen={setDrawerOpen} />\n          <DrawerLeftPanel drawerOpen={drawerOpen} setDrawerOpen={setDrawerOpen} />\n\n          <ActionModal\n          queryTerm={'profileSetup'}\n          msg={'Thank you for completing your profile!'}\n          redirectPath={'/'}\n          timeout={3000}\n          delayBeforeLeave={2750}\n          doAction={() => {\n            setDrawerOpen(false)\n          }}\n          />\n          \n          <ActionModal\n          queryTerm={'updateInfo'}\n          msg={'You have successfully updated your profile info!'}\n          redirectPath={'/'}\n          timeout={3000}\n          delayBeforeLeave={2750}\n          doAction={() => {\n            setDrawerOpen(false)\n          }}\n          />\n\n          <div>\n            <Switch>\n              <Route exact path='/'>\n                <ProfileDataPage />\n                <Elements stripe={stripePromise}>\n                  <StripeCardEntryExample />\n                  {/* <CreditCardEntry /> */}\n                </Elements>\n\n              </Route>\n              <Route path='/success'>\n                <SuccessPage />\n              </Route>\n              <Route path='/checkout'>\n                <Checkout />\n              </Route>\n              <Route path='/update-profile'>\n                <br />\n                <div>Update your info</div>\n                <br />\n                <UpdateUserDataForm\n                user={user}\n                onCompleteParams={{\n                  queryKey: 'updateInfo',\n                  queryValue: 'complete'\n                }}\n                submitLabel={ 'Update info' }\n                />\n              </Route>\n            </Switch>\n          </div>\n\n        </Router>\n      </div>\n    </>\n  )\n\n}\n\nexport default App","C:\\Users\\EP\\Documents\\stripe-react\\src\\reportWebVitals.js",[],"C:\\Users\\EP\\Documents\\stripe-react\\src\\itemsList.js",["107"],"export default () => ([\r\n    {\r\n        price_data: {\r\n            currency: 'usd',\r\n            product_data: {\r\n                name: 'Gummy Bears'\r\n            },\r\n            unit_amount: 100\r\n        },\r\n        quantity: 1\r\n    },\r\n    {\r\n        price_data: {\r\n            currency: 'usd',\r\n            product_data: {\r\n                name: 'Camisa'\r\n            },\r\n            unit_amount: 2500\r\n        },\r\n        quantity: 1\r\n    },\r\n    {\r\n        price_data: {\r\n            currency: 'usd',\r\n            product_data: {\r\n                name: 'Shirt'\r\n            },\r\n            unit_amount: 2000\r\n        },\r\n        quantity: 1\r\n    },\r\n    {\r\n        price_data: {\r\n            currency: 'usd',\r\n            product_data: {\r\n                name: 'Pants'\r\n            },\r\n            unit_amount: 3500\r\n        },\r\n        quantity: 1\r\n    },\r\n    {\r\n        price_data: {\r\n            currency: 'usd',\r\n            product_data: {\r\n                name: 'Shoes'\r\n            },\r\n            unit_amount: 7500\r\n        },\r\n        quantity: 1\r\n    },\r\n    {\r\n        price_data: {\r\n            currency: 'usd',\r\n            product_data: {\r\n                name: 'Jacket'\r\n            },\r\n            unit_amount: 18500\r\n        },\r\n        quantity: 1\r\n    },\r\n    {\r\n        price_data: {\r\n            currency: 'usd',\r\n            product_data: {\r\n                name: 'Flops'\r\n            },\r\n            unit_amount: 1000\r\n        },\r\n        quantity: 1\r\n    },\r\n    {\r\n        price_data: {\r\n            currency: 'usd',\r\n            product_data: {\r\n                name: 'Hat'\r\n            },\r\n            unit_amount: 1500\r\n        },\r\n        quantity: 1\r\n    },\r\n    {\r\n        price_data: {\r\n            currency: 'usd',\r\n            product_data: {\r\n                name: 'Suit'\r\n            },\r\n            unit_amount: 25500\r\n        },\r\n        quantity: 1\r\n    },\r\n    {\r\n        price_data: {\r\n            currency: 'usd',\r\n            product_data: {\r\n                name: 'Tie'\r\n            },\r\n            unit_amount: 4000\r\n        },\r\n        quantity: 1\r\n    },\r\n    {\r\n        price_data: {\r\n            currency: 'usd',\r\n            product_data: {\r\n                name: 'Dress Shoes'\r\n            },\r\n            unit_amount: 12000\r\n        },\r\n        quantity: 1\r\n    },\r\n    {\r\n        price_data: {\r\n            currency: 'usd',\r\n            product_data: {\r\n                name: 'Nikes'\r\n            },\r\n            unit_amount: 35500\r\n        },\r\n        quantity: 1\r\n    },\r\n])\r\n",["108","109"],"C:\\Users\\EP\\Documents\\stripe-react\\src\\productsList.js",["110"],"export default () => ([\r\n    'prod_IofQI7lk3rL1Qq',\r\n])\r\n","C:\\Users\\EP\\Documents\\stripe-react\\src\\Success.js",["111","112"],"import React from 'react'\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport { useAuth0 } from '@auth0/auth0-react'\r\nimport UpdateUserDataForm from './components/UpdateUserDataForm'\r\nimport useAuthToken from './hooks/useAuthToken'\r\nimport useFetchedUserData from './hooks/useFetchedUserData'\r\n\r\nfunction usePatchStripeSessionData (stripeSession) {\r\n\r\n    const [res, setRes] = React.useState(null)\r\n    const jwt = useAuthToken()\r\n    const user = useFetchedUserData()\r\n\r\n    React.useEffect(() => {\r\n\r\n        if (user && jwt && stripeSession) {\r\n            let status, statusCode\r\n            let subscriptions =\r\n                user.user_metadata?.subscriptions ? user.user_metadata.subscriptions.push(stripeSession.subscription)\r\n                : [ stripeSession.subscription ]\r\n            fetch(`https://gymwebapp.us.auth0.com/api/v2/users/${user.user_id}`, {\r\n                method: 'PATCH',\r\n                body: JSON.stringify({\r\n                    user_metadata: {\r\n                        stripe: {\r\n                            customer: user.user_metadata?.customer ? user.user_metadata.customer : stripeSession.customer,\r\n                            subscriptions: subscriptions !== user.user_metadata.subscriptions ? subscriptions : user.user_metadata.subscriptions\r\n                        }\r\n                    }\r\n                }),\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'authorization': `Bearer ${jwt.access_token}`\r\n                }\r\n            })\r\n            .then(response => {\r\n                status = response.status\r\n                return response.json()\r\n            })\r\n            .then(data => {\r\n                console.log(data)\r\n                setRes(data)\r\n                statusCode = data.statusCode ? data.statusCode : null\r\n                // setTimeout(() => {\r\n                //     history.push(`/?${queryKey}=${queryValue}`)\r\n                // }, 250)\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                if (status === 401  || statusCode === 401) {\r\n                    if (localStorage.getItem('gym-app-jwt')) {\r\n                        localStorage.removeItem('gym-app-jwt')\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n    }, [user, jwt, stripeSession])\r\n\r\n    return res\r\n\r\n}\r\n\r\nexport default function SuccessPage () {\r\n\r\n    const location = useLocation()\r\n    const history = useHistory()\r\n    const { isLoading, isAuthenticated, user } = useAuth0()\r\n    const [stripeSession, setStripeSession] = React.useState(null)\r\n    usePatchStripeSessionData(stripeSession)\r\n\r\n    React.useEffect(() => {\r\n        console.log(\r\n            stripeSession\r\n        )\r\n    }, [stripeSession])\r\n\r\n    React.useEffect(() => {\r\n        // get session data to populate form fields\r\n        let session_id\r\n        if (location.search) {\r\n            session_id = location.search.split('=')[1]\r\n        }\r\n        if (session_id) {\r\n            if (isAuthenticated === true) {\r\n                // get stripe customer data \r\n                let data = fetch('/get-checkout-session', {\r\n                    method: 'POST',\r\n                    body: JSON.stringify({ session_id }),\r\n                        headers: { 'Content-type': 'application/json' }\r\n                })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    let { session } = data\r\n                    setStripeSession(session)\r\n                })\r\n                .catch(err => console.log(err))\r\n            }\r\n        } else {\r\n            // redirect to home\r\n            history.push('/')\r\n        }\r\n\r\n    }, [ isAuthenticated ])\r\n\r\n    const markup = () => (\r\n        <>\r\n            <br />\r\n            <div>\r\n                Payment was successful! Please finish setting up your profile\r\n            </div>\r\n            <br />\r\n            <UpdateUserDataForm\r\n            user={user}\r\n            onCompleteParams={{\r\n                queryKey: 'profileSetup',\r\n                queryValue: 'complete',\r\n            }}\r\n            submitLabel={ 'Complete Enrollment' }\r\n            />\r\n        </>\r\n    )\r\n\r\n    return (\r\n        <>\r\n        {\r\n            isLoading\r\n            ? <><br /><div>Loading...</div></>\r\n            :\r\n                isAuthenticated\r\n                ? markup()\r\n                : null\r\n        }\r\n        </>\r\n    )\r\n}\r\n","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\StyledButton.js",[],"C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\ProductBox.js",["113","114"],"import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst StyledProductBoxDiv = styled.div`\r\nuser-select: none;\r\nalign-items: center;\r\nborder: 2px solid slateblue;\r\ncolor: darkslateblue;\r\nborder-radius: 3px;\r\npadding: 20px;\r\nwidth: 300px;\r\nposition: absolute;\r\nmargin: auto;\r\nleft: 0;\r\nright: 0;\r\ntransform: scale(1.00);\r\ntransition: all .35s;\r\ncursor: pointer;\r\n&:hover {\r\n    transform: scale(1.05);\r\n    transition: all .35s;\r\n}\r\n`\r\n\r\nexport const convertToDollar = priceNum => {\r\n    let amt = priceNum.toString()\r\n    let dollarAmt = amt.split('')\r\n    dollarAmt.pop()\r\n    dollarAmt.pop()\r\n    dollarAmt.push('.00')\r\n    dollarAmt = dollarAmt.join('')\r\n    return dollarAmt\r\n}\r\n\r\nexport default ({ product, itemsChecked, updateCart }) => (\r\n    <>\r\n        <StyledProductBoxDiv\r\n        onClick={() => { updateCart(product) }}\r\n        >\r\n            <span>\r\n                <div key={product.id}>\r\n                { product.name }\r\n                </div>\r\n                <div>\r\n                { product.statement_descriptor }\r\n                </div>\r\n                <div>\r\n                ${ convertToDollar( product.metadata.price ) }\r\n                </div>\r\n                <input\r\n                style={{\r\n                    position: 'relative',\r\n                    right: '20px'\r\n                }}\r\n                type='checkbox'\r\n                checked={itemsChecked[product.id]}\r\n                onChange={() => { updateCart(product) }}\r\n                />\r\n            </span>\r\n            <img\r\n            style={{ 'width': '100px' }}\r\n            src={ product.images[0] }\r\n            />\r\n        </StyledProductBoxDiv>\r\n    </>\r\n)","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\Checkout.js",["115"],"import React from 'react'\r\nimport { isEqual } from 'lodash'\r\nimport { loadStripe } from '@stripe/stripe-js'\r\nimport StyledButton from './StyledButton'\r\nimport ProductBox from './ProductBox'\r\nimport { useAuth0 } from '@auth0/auth0-react'\r\nimport useFetchedUserData from '../hooks/useFetchedUserData'\r\n\r\nconst stripePromise = loadStripe(process.env.REACT_APP_STRIPE_TEST_PUB_KEY)\r\n\r\nexport default function Checkout () {\r\n\r\n    const [products, setProducts] = React.useState(null)\r\n    const [itemsChecked, setItemsChecked] = React.useState({})\r\n    const [shoppingCart, setShoppingCart] = React.useState([])\r\n    const { isAuthenticated, isLoading } = useAuth0()\r\n    const fetchedUser = useFetchedUserData()\r\n\r\n    React.useEffect(() => {\r\n  \r\n      let response = fetch('/get-list-of-products', {\r\n        method: 'GET'\r\n      })\r\n      .then(response => response.json())\r\n      .catch(err => console.log(err))\r\n      \r\n      response\r\n      .then(data => {\r\n        setProducts(data.products)\r\n      })\r\n      .catch(err => console.log(err))\r\n  \r\n    }, [])\r\n  \r\n    const handleClick = async event => {\r\n      if (!fetchedUser) {\r\n        console.log(\r\n          'could not get auth0 fetched user object'\r\n        )\r\n      }\r\n      if (shoppingCart.length > 0) {\r\n        // Get Stripe.js instance\r\n        const stripe = await stripePromise\r\n        // Call your backend to create the Checkout Session\r\n        const response = await fetch('/create-checkout-session', {\r\n          method: 'POST',\r\n          body: JSON.stringify({\r\n            email: fetchedUser ? fetchedUser.email : null,\r\n            line_items: shoppingCart\r\n          }),\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        })\r\n        const session = await response.json()\r\n        // When the customer clicks on the button, redirect them to the Checkout \r\n        const result = await stripe.redirectToCheckout({\r\n          sessionId: session.id\r\n        })\r\n    \r\n        if (result.error) {\r\n          // If `redirectToCheckout` fails due to a browser or network\r\n          // error, display the localized error message to your customer\r\n          // using `result.error.message`.\r\n        }\r\n  \r\n      } else {\r\n        console.log(\r\n          'there is nothing in your shopping cart'\r\n        )\r\n      }\r\n  \r\n    }\r\n  \r\n    const updateCart = product => {\r\n      setItemsChecked({\r\n        [product.id]: !itemsChecked[product.id]\r\n      })\r\n  \r\n      let inCart = false\r\n      let itemToAdd = { price: product.metadata.price_id, quantity: 1 }\r\n      shoppingCart.forEach(item => {\r\n        if (isEqual(item, itemToAdd)) {\r\n          inCart = true\r\n        }\r\n      })\r\n  \r\n      if (!inCart) {\r\n        setShoppingCart(() => ([\r\n          ...shoppingCart,\r\n          itemToAdd\r\n        ]))\r\n      } else {\r\n        setShoppingCart(() => (\r\n          shoppingCart.filter(item => {\r\n            if (!isEqual(item, itemToAdd)) {\r\n              return item\r\n            }\r\n          })\r\n        ))\r\n      }\r\n  \r\n    }\r\n\r\n    const markup = () => (\r\n        <>\r\n        <br />\r\n        <div>\r\n          Enroll in Classes\r\n        </div>\r\n        <br />\r\n        <div>\r\n          {\r\n            products ?\r\n            products\r\n            .map(product => (\r\n              <ProductBox\r\n              itemsChecked={itemsChecked}\r\n              updateCart={updateCart}\r\n              product={product}\r\n              />\r\n            ))\r\n            : null\r\n          }\r\n        </div>\r\n        <br />\r\n        <StyledButton\r\n        style={{\r\n          left: 0,\r\n          right: 0,\r\n          bottom: '40px',\r\n          position: 'absolute',\r\n          margin: 'auto'\r\n        }}\r\n        type='button' role='link'\r\n        onClick={handleClick}>\r\n          Checkout\r\n        </StyledButton>\r\n      </>\r\n    )\r\n    \r\n    return (\r\n        <>\r\n        {\r\n            isLoading\r\n            ? <><br/><div>Loading...</div></>\r\n            :\r\n                isAuthenticated\r\n                ? markup()\r\n                : null\r\n        }\r\n        </>\r\n    )\r\n}\r\n","C:\\Users\\EP\\Documents\\stripe-react\\src\\hooks\\useFetchedUserData.js",[],"C:\\Users\\EP\\Documents\\stripe-react\\src\\utils\\utils.js",[],["116","117"],"C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\UpdateUserDataForm.js",[],"C:\\Users\\EP\\Documents\\stripe-react\\src\\hooks\\useAuthToken.js",["118"],"import React from 'react'\r\nimport { useAuth0 } from '@auth0/auth0-react'\r\n\r\nexport default function useAuthToken () {\r\n\r\n    const [jwt, setJwt] = React.useState(null)\r\n    const { isAuthenticated } = useAuth0()\r\n\r\n    React.useEffect(() => {\r\n        console.log(\r\n        'user auth: ', isAuthenticated\r\n        )\r\n        if (isAuthenticated === true) {\r\n        if (window.localStorage && !localStorage.getItem('gym-app-jwt')) {\r\n            fetch('/retrieve-api-token', {\r\n            method: 'POST',\r\n            headers: { 'Content-type': 'application/json' }\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n            console.log(data)\r\n            setJwt(data)\r\n            localStorage.setItem('gym-app-jwt', JSON.stringify(data))\r\n            // we will update this to send the jwt to our mongo db for better security...\r\n            // we will then need to blacklist or invalidate old jwt tokens as well\r\n            // but for now, let's make a request using the jwt! (at Success component)\r\n            // request will be PATCH to update user \r\n            })\r\n            .catch(err => console.log(err))\r\n        } else {\r\n            setJwt(JSON.parse(localStorage.getItem('gym-app-jwt')))\r\n        }\r\n        console.log(jwt)\r\n        }\r\n\r\n    }, [isAuthenticated])\r\n\r\n    return jwt\r\n\r\n}","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\DrawerComponent.js",[],"C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\ActionModal.js",["119","120"],"import React from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\n\r\nconst ModalDiv_SlideIn = styled.div`\r\ncolor: white;\r\npositon: absolute;\r\npadding: 10px 25px;\r\nborder-radius: 3px;\r\nbackground-color: mediumseagreen;\r\nbox-shadow: 1px 1px 2px 2px rgba(0, 0, 0, 0.2);\r\ntransform: translateX(-100vw);\r\ntransition: transform .5s ease-out;\r\n${props => props.slide === 'in' && css`\r\n  transform: translateX(0px);\r\n`}\r\n${props => props.slide === 'out' && css`\r\n  transform: translateX(200vw);\r\n`}\r\n`\r\n\r\nfunction ActionModal ({ doAction, msg, redirectPath, queryTerm, timeout, delayBeforeLeave }) {\r\n\r\n  const location = useLocation()\r\n  const history = useHistory()\r\n  const [modal, setModal] = React.useState(false)\r\n  const [slide, setSlide] = React.useState(null)\r\n  \r\n  React.useEffect(() => {\r\n    if (location) {\r\n      let search = location.search.substr(1, location.search.length)\r\n      let params = search.split('=')\r\n      if (params) {\r\n        let key = params[0]\r\n        let value = params[1]\r\n        if (key && value) {\r\n          console.log(key, value)\r\n          if (key === queryTerm) {\r\n            if (value === 'complete') {\r\n              setModal(true) // maybe replace this with react toast lib\r\n              setTimeout(() => setSlide('in'), 50)\r\n              setTimeout(() => {\r\n                setSlide('out')\r\n              }, delayBeforeLeave)\r\n              setTimeout(() => {\r\n                if (redirectPath) {\r\n                  history.push(redirectPath)\r\n                }\r\n                doAction()\r\n                setModal(false)\r\n              }, timeout)\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }, [location])\r\n  \r\n  return (\r\n    <>\r\n    {\r\n      modal ?\r\n        <>\r\n            <ModalDiv_SlideIn slide={ slide }>\r\n              {msg}\r\n            </ModalDiv_SlideIn>\r\n        </>\r\n      :\r\n        <></>\r\n    }\r\n    </>\r\n  )\r\n}\r\n\r\nexport { ActionModal }","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\AppHeader.js",[],"C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\ProfileDataPage.js",[],"C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\BugerButton.js",["121"],"import React from 'react'\r\nimport StyledButton from './StyledButton'\r\n\r\nexport default ({ doAction }) => (\r\n    <StyledButton\r\n    onClick={doAction}\r\n    style={{ position: 'absolute', left: '14px', top: '7px', width: '50px', fontSize: '24px' }}\r\n    >\r\n      &equiv;\r\n    </StyledButton>\r\n)\r\n","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\LogoutTimer.js",["122","123"],"import React from 'react'\r\nimport { useAuth0 } from '@auth0/auth0-react'\r\n\r\nexport default function LogoutTimer ({ minutesOfInactivity }) {\r\n\r\n    const { isAuthenticated, logout } = useAuth0()\r\n    const minutes = React.useRef(minutesOfInactivity)\r\n    const seconds = React.useRef(0)\r\n    const timeout = React.useRef(() => setTOut(minutes.current))\r\n    const interval = React.useRef(() => setCountdown(minutes.current))\r\n\r\n    const setTOut = () => {\r\n        // console.log(`logout timeout refreshed, set at ${minutes.current} minute${minutes.current > 1 ? 's' : ''}`)\r\n        return setTimeout(() => {\r\n            console.log(`logging out due to ${minutes.current} of inactivity`)\r\n            // also remove the jwt token from localStorage\r\n            if (localStorage.getItem('gym-app-jwt')) {\r\n                localStorage.removeItem('gym-app-jwt')\r\n            }\r\n            logout({ redirectTo: window.location.origin })\r\n        }, ((1000 * 60) * minutes.current))\r\n    }\r\n\r\n    const setCountdown = () => {\r\n        seconds.current = minutes.current * 60\r\n        return setInterval(() => {\r\n            seconds.current = seconds.current - 1\r\n            let sec = seconds.current % 60\r\n            // console.log(`timer: ${((seconds.current - (seconds.current % 60)) / 60)}:${sec < 10 ? `0${sec}` : sec}`)\r\n        }, 1000)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n\r\n        const mouseMoveHandler = () => {\r\n            if (timeout?.current && interval?.current) {\r\n                clearTimeout(timeout.current)\r\n                clearInterval(interval.current)\r\n            }\r\n            timeout.current = setTOut()\r\n            interval.current = setCountdown()   \r\n        }\r\n\r\n        if (isAuthenticated === true) {\r\n            console.log('authenticated, set a timer to logout automagically, but refresh upon mouse movement')\r\n            window.addEventListener('mousemove', mouseMoveHandler)\r\n            mouseMoveHandler() // fire once to init logout timer\r\n        }\r\n\r\n        return () => {\r\n            window.removeEventListener('mousemove', mouseMoveHandler)\r\n        }\r\n\r\n    }, [isAuthenticated])\r\n\r\n    return <></>\r\n\r\n}","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\CreditCardEntry.js",[],"C:\\Users\\EP\\Documents\\stripe-react\\src\\hooks\\useCreateStripeCustomer.js",["124"],"import React from 'react'\r\nimport { useAuth0 } from '@auth0/auth0-react'\r\nimport useAuthToken from './useAuthToken'\r\n\r\nexport default function useCreateStripeCustomer () {\r\n  \r\n  const { user } = useAuth0()\r\n  const [stripeCustomer, setStripeCustomer] = React.useState(null)\r\n  const jwt = useAuthToken()\r\n\r\n  React.useEffect(() => {\r\n\r\n    if (stripeCustomer && jwt) { // once we have both the stripeCustomer and jwt deps.. do..\r\n      // patch stripe customer through to auth0 user \r\n      let status, statusCode\r\n      fetch(`https://gymwebapp.us.auth0.com/api/v2/users/${user.sub}`, {\r\n          method: 'PATCH',\r\n          body: JSON.stringify({\r\n            user_metadata: {\r\n              stripe: {\r\n                customer: stripeCustomer\r\n              }\r\n            }\r\n          }),\r\n          headers: { 'content-type': 'application/json', 'authorization': `Bearer ${jwt.access_token}` }\r\n      })\r\n      .then(response => {\r\n        status = response.status\r\n        return response.json()\r\n      })\r\n      .then(data => {\r\n        console.log(data)\r\n        statusCode = data.statusCode ? data.statusCode : null\r\n      })\r\n      .catch(err => {\r\n          console.log(err)\r\n          if (status === 401 || statusCode === 401) {\r\n            if (localStorage.getItem('gym-app-jwt')) {\r\n              localStorage.removeItem('gym-app-jwt')\r\n            }\r\n          }\r\n      })\r\n    }\r\n\r\n  }, [stripeCustomer, jwt]) // on stripeCustomer or jwt state change.. do..\r\n\r\n  React.useEffect(() => {\r\n\r\n    if (user) {\r\n      console.log(user)\r\n      fetch('/create-stripe-customer', {\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n          email: user.email ? user.email : user.name\r\n        }),\r\n        headers: {\r\n          'Content-type': 'application/json'\r\n        }\r\n      })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (data.value === true) { // if we created a new Stripe customer\r\n          console.log(data)\r\n          let { customer } = data\r\n          setStripeCustomer(customer) // save the stripe api data to auth0 user\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n    }\r\n\r\n  }, [user])\r\n\r\n}","C:\\Users\\EP\\Documents\\stripe-react\\src\\components\\StripeCardEntryExample.js",["125","126","127","128"],{"ruleId":"129","replacedBy":"130"},{"ruleId":"131","replacedBy":"132"},{"ruleId":"133","severity":1,"message":"134","line":18,"column":8,"nodeType":"135","messageId":"136","endLine":18,"endColumn":23},{"ruleId":"137","severity":1,"message":"138","line":1,"column":1,"nodeType":"139","endLine":122,"endColumn":3},{"ruleId":"129","replacedBy":"140"},{"ruleId":"131","replacedBy":"141"},{"ruleId":"137","severity":1,"message":"138","line":1,"column":1,"nodeType":"139","endLine":3,"endColumn":3},{"ruleId":"133","severity":1,"message":"142","line":87,"column":21,"nodeType":"135","messageId":"136","endLine":87,"endColumn":25},{"ruleId":"143","severity":1,"message":"144","line":104,"column":8,"nodeType":"145","endLine":104,"endColumn":27,"suggestions":"146"},{"ruleId":"137","severity":1,"message":"138","line":35,"column":1,"nodeType":"139","endLine":66,"endColumn":2},{"ruleId":"147","severity":1,"message":"148","line":60,"column":13,"nodeType":"149","endLine":63,"endColumn":15},{"ruleId":"150","severity":1,"message":"151","line":95,"column":36,"nodeType":"152","messageId":"153","endLine":95,"endColumn":38},{"ruleId":"129","replacedBy":"154"},{"ruleId":"131","replacedBy":"155"},{"ruleId":"143","severity":1,"message":"156","line":36,"column":8,"nodeType":"145","endLine":36,"endColumn":25,"suggestions":"157"},{"ruleId":"143","severity":1,"message":"158","line":57,"column":6,"nodeType":"145","endLine":57,"endColumn":16,"suggestions":"159"},{"ruleId":"160","severity":1,"message":"161","line":64,"column":13,"nodeType":"149","endLine":64,"endColumn":47},{"ruleId":"137","severity":1,"message":"138","line":4,"column":1,"nodeType":"139","endLine":11,"endColumn":2},{"ruleId":"133","severity":1,"message":"162","line":28,"column":17,"nodeType":"135","messageId":"136","endLine":28,"endColumn":20},{"ruleId":"143","severity":1,"message":"163","line":54,"column":8,"nodeType":"145","endLine":54,"endColumn":25,"suggestions":"164"},{"ruleId":"143","severity":1,"message":"165","line":45,"column":6,"nodeType":"145","endLine":45,"endColumn":27,"suggestions":"166"},{"ruleId":"133","severity":1,"message":"167","line":2,"column":23,"nodeType":"135","messageId":"136","endLine":2,"endColumn":31},{"ruleId":"133","severity":1,"message":"168","line":89,"column":7,"nodeType":"135","messageId":"136","endLine":89,"endColumn":18},{"ruleId":"133","severity":1,"message":"169","line":227,"column":9,"nodeType":"135","messageId":"136","endLine":227,"endColumn":14},{"ruleId":"133","severity":1,"message":"170","line":308,"column":7,"nodeType":"135","messageId":"136","endLine":308,"endColumn":23},"no-native-reassign",["171"],"no-negated-in-lhs",["172"],"no-unused-vars","'CreditCardEntry' is defined but never used.","Identifier","unusedVar","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration",["171"],["172"],"'data' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook React.useEffect has missing dependencies: 'history' and 'location.search'. Either include them or remove the dependency array.","ArrayExpression",["173"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","array-callback-return","Array.prototype.filter() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd",["171"],["172"],"React Hook React.useEffect has a missing dependency: 'jwt'. Either include it or remove the dependency array.",["174"],"React Hook React.useEffect has missing dependencies: 'delayBeforeLeave', 'doAction', 'history', 'queryTerm', 'redirectPath', and 'timeout'. Either include them or remove the dependency array. If 'doAction' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["175"],"react/jsx-pascal-case","Imported JSX component ModalDiv_SlideIn must be in PascalCase or SCREAMING_SNAKE_CASE","'sec' is assigned a value but never used.","React Hook React.useEffect has a missing dependency: 'setTOut'. Either include it or remove the dependency array.",["176"],"React Hook React.useEffect has a missing dependency: 'user.sub'. Either include it or remove the dependency array.",["177"],"'Elements' is defined but never used.","'ResetButton' is assigned a value but never used.","'reset' is assigned a value but never used.","'ELEMENTS_OPTIONS' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"178","fix":"179"},{"desc":"180","fix":"181"},{"desc":"182","fix":"183"},{"desc":"184","fix":"185"},{"desc":"186","fix":"187"},"Update the dependencies array to be: [history, isAuthenticated, location.search]",{"range":"188","text":"189"},"Update the dependencies array to be: [isAuthenticated, jwt]",{"range":"190","text":"191"},"Update the dependencies array to be: [delayBeforeLeave, doAction, history, location, queryTerm, redirectPath, timeout]",{"range":"192","text":"193"},"Update the dependencies array to be: [isAuthenticated, setTOut]",{"range":"194","text":"195"},"Update the dependencies array to be: [stripeCustomer, jwt, user.sub]",{"range":"196","text":"197"},[3736,3755],"[history, isAuthenticated, location.search]",[1311,1328],"[isAuthenticated, jwt]",[1725,1735],"[delayBeforeLeave, doAction, history, location, queryTerm, redirectPath, timeout]",[2113,2130],"[isAuthenticated, setTOut]",[1406,1427],"[stripeCustomer, jwt, user.sub]"]